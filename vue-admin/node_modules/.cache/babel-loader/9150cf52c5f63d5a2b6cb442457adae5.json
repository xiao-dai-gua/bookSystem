{"remainingRequest":"C:\\Users\\小林\\Desktop\\前端学习\\vuecli\\vue-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\小林\\Desktop\\前端学习\\vuecli\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\小林\\Desktop\\前端学习\\vuecli\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\小林\\Desktop\\前端学习\\vuecli\\vue-admin\\src\\views\\message\\add.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\小林\\Desktop\\前端学习\\vuecli\\vue-admin\\src\\views\\message\\add.vue","mtime":1631350761430},{"path":"C:\\Users\\小林\\Desktop\\前端学习\\vuecli\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小林\\Desktop\\前端学习\\vuecli\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\小林\\Desktop\\前端学习\\vuecli\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小林\\Desktop\\前端学习\\vuecli\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvXHU1QzBGXHU2Nzk3L0Rlc2t0b3AvXHU1MjREXHU3QUVGXHU1QjY2XHU0RTYwL3Z1ZWNsaS92dWUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldEFkZHJlc3MgfSBmcm9tICcuLi8uLi9hcGkvYWRkcmVzcyc7CmltcG9ydCB7IGdldExldmVsIH0gZnJvbSAnLi4vLi4vYXBpL2xldmVsJzsKaW1wb3J0IHsgYWRkTWVzc2FnZSwgbWVzc2FnZWlkLCB1cGRhdGVNZXNzYWdlIH0gZnJvbSAnLi4vLi4vYXBpL21lc3NhZ2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lc3NhZ2VGb3JtOiB7CiAgICAgICAgdW5hbWU6ICIiLAogICAgICAgIHRlbDogIiIsCiAgICAgICAgbGV2ZWxpZDogIiIsCiAgICAgICAgYWRkcmVzc2lkOiAiIiwKICAgICAgICB0Y29pbjogIiIsCiAgICAgICAgd2VpeGluOiAiIgogICAgICB9LAogICAgICBsZXZlbExpc3Q6IFtdLAogICAgICBhZGRyZXNzOiBbXSwKICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICB1cGRhdGE6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHJvdXRlLnF1ZXJ5KQogICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmlkKSB7CiAgICAgIHRoaXMudXBkYXRhID0gdHJ1ZSwgdGhpcy5nZXRNZXNzYWdlaWQoKTsKICAgIH0gLy8gY29uc29sZS5sb2codGhpcy4kcm91dGUucGFyYW1zKS8v5Y+v5Lul6L6T5Ye66aG16Z2i5LmL6Ze05Lyg6YCS55qE5Y+C5pWwCgoKICAgIHRoaXMuaW5pdFBhZ2UoKTsgLy8gdGhpcy5nZXRMZXZlbERhdGEoKQogICAgLy8gdGhpcy5nZXRBZGRyZXNzRGF0YSgpCiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+S/ruaUueS/oeaBrwogICAgVXBkYXRlTWVzc2FnZUhhbmRsZTogZnVuY3Rpb24gVXBkYXRlTWVzc2FnZUhhbmRsZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBfdGhpcyRtZXNzYWdlRm9ybSA9IHRoaXMubWVzc2FnZUZvcm0sCiAgICAgICAgICB1bmFtZSA9IF90aGlzJG1lc3NhZ2VGb3JtLnVuYW1lLAogICAgICAgICAgYWRkcmVzc2lkID0gX3RoaXMkbWVzc2FnZUZvcm0uYWRkcmVzc2lkLAogICAgICAgICAgbGV2ZWxpZCA9IF90aGlzJG1lc3NhZ2VGb3JtLmxldmVsaWQsCiAgICAgICAgICB0ZWwgPSBfdGhpcyRtZXNzYWdlRm9ybS50ZWw7CiAgICAgIHVwZGF0ZU1lc3NhZ2UoewogICAgICAgIGlkOiB0aGlzLiRyb3V0ZS5xdWVyeS5pZCwKICAgICAgICB1bmFtZTogdW5hbWUsCiAgICAgICAgYWRkcmVzc2lkOiBhZGRyZXNzaWQsCiAgICAgICAgbGV2ZWxpZDogbGV2ZWxpZCwKICAgICAgICB0ZWw6IHRlbAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9tZXNzYWdlL2xpc3QnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/moLnmja5JZOiOt+WPluS/oeaBrwogICAgZ2V0TWVzc2FnZWlkOiBmdW5jdGlvbiBnZXRNZXNzYWdlaWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgbWVzc2FnZWlkKHsKICAgICAgICBpZDogdGhpcy4kcm91dGUucXVlcnkuaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLm1lc3NhZ2VGb3JtID0gewogICAgICAgICAganJuYW1lOiByZXMuZGF0YVswXS5qcm5hbWUsCiAgICAgICAgICBqcnRlbDogcmVzLmRhdGFbMF0uanJ0ZWwsCiAgICAgICAgICBsZXZlbGlkOiByZXMuZGF0YVswXS5qcmxldmVsLAogICAgICAgICAgYWRkcmVzc2lkOiByZXMuZGF0YVswXS5qcmFkZHJlc3Nlc2lkLAogICAgICAgICAgdGNvaW46IHJlcy5kYXRhWzBdLnRjb2luLAogICAgICAgICAgd2VpeGluOiByZXMuZGF0YVswXS53ZWl4aW4KICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICAvL+a3u+WKoOS/oeaBrwogICAgYWRkTWVzc2FnZUhhbmRsZTogZnVuY3Rpb24gYWRkTWVzc2FnZUhhbmRsZShmb3JtTmFtZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICBhZGRNZXNzYWdlKF9vYmplY3RTcHJlYWQoe30sIF90aGlzMy5tZXNzYWdlRm9ybSkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+iOt+WPluetiee6p+WIl+ihqAogICAgZ2V0TGV2ZWxEYXRhOiBmdW5jdGlvbiBnZXRMZXZlbERhdGEoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBnZXRMZXZlbCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM0LmxldmVsTGlzdCA9IHJlcy5kYXRhOwogICAgICAgICAgcmVzb2x2ZSgpOyAvL+aIkOWKn+S5i+WQjuiuqeWFtui/kOihjAogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvL+iOt+WPluWcsOWdgAogICAgZ2V0QWRkcmVzc0RhdGE6IGZ1bmN0aW9uIGdldEFkZHJlc3NEYXRhKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgZ2V0QWRkcmVzcygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM1LmFkZHJlc3MgPSByZXMuZGF0YSwgcmVzb2x2ZSgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvL+WktOWDj+S4iuS8oOaIkOWKnwogICAgaGVhZFVwbG9hZDogZnVuY3Rpb24gaGVhZFVwbG9hZChyZXMsIGZpbGUsIGZpbGVzKSB7CiAgICAgIHRoaXMubWVzc2FnZUZvcm0udGNvaW4gPSByZXMuaGVhZGVydXJsOwogICAgfSwKICAgIC8v5b6u5L+h5LqM57u056CB5LiK5Lyg5oiQ5YqfCiAgICB3eFVwbG9hZDogZnVuY3Rpb24gd3hVcGxvYWQocmVzKSB7CiAgICAgIHRoaXMubWVzc2FnZUZvcm0ud2VpeGluID0gcmVzLndlaXhpbnVybDsKICAgIH0sCiAgICAvL+WIneWni+WMlumhtemdogogICAgaW5pdFBhZ2U6IGZ1bmN0aW9uIGluaXRQYWdlKCkgewogICAgICBjb25zb2xlLmxvZygi5byA5aeL5Yqg6L296aG16Z2iIik7CiAgICAgIHZhciBhZGRyZXNzUHJvbWlzZSA9IHRoaXMuZ2V0QWRkcmVzc0RhdGEoKTsKICAgICAgdmFyIGxldmVsUHJvbWlzZSA9IHRoaXMuZ2V0TGV2ZWxEYXRhKCk7CiAgICAgIFByb21pc2UuYWxsKFtsZXZlbFByb21pc2UsIGFkZHJlc3NQcm9taXNlXSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coIue7k+adn+WKoOi9vemhtemdoiIpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["add.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"box\">\r\n       <el-row :gutter=\"20\">\r\n        <el-col :span=\"6\" >\r\n            <!--这个model和下面的结合形成data里的数据模式-->\r\n            <el-form :model=\"messageForm\" ref=\"messageForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n            <el-form-item\r\n                label=\"姓名\"\r\n                prop=\"uname\"\r\n                :rules=\"[\r\n                { required: true, message: '请填写姓名'},\r\n                ]\"\r\n            >\r\n                <el-input  v-model=\"messageForm.uname\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item\r\n                label=\"电话\"\r\n                prop=\"tel\"\r\n                :rules=\"[\r\n                { required: true, message: '请填写电话'},\r\n                ]\"\r\n            >\r\n                <el-input  v-model=\"messageForm.tel\"></el-input>\r\n            </el-form-item>\r\n            <!--地址选择-->\r\n            <el-form-item label=\"选择地址\">\r\n                <el-select v-model=\"messageForm.addressid\" placeholder=\"请选择地址\">\r\n                    <!--加上冒号是v-bind的简写绑定属性-->\r\n                <el-option v-for=\"item in address\" :key=\"item.addressid\" :label=\"item.addressname\" :value=\"item.addressid\"></el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <!--等级-->\r\n            <el-form-item label=\"选择等级\">\r\n                <el-select v-model=\"messageForm.levelid\" placeholder=\"请选择等级\"><!--:表示不让他按字符串处理-->\r\n                <el-option v-for=\"item in levelList\" :key=\"item.jrid\" :label=\"item.levelname\" :value=\"item.jrid\"></el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n             <!--上传头像-->\r\n            <el-form-item label=\"上传头像\">\r\n                <el-upload\r\n                    class=\"upload-demo\"\r\n                    action=\"http://47.92.82.13:4000/getMessageA\"\r\n                    :file-list=\"fileList\"\r\n                    name=\"sfile\"\r\n                    :on-success=\"headUpload\"\r\n                    ><!--更改文件名字-->\r\n                    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n                    <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n                    </el-upload>\r\n            </el-form-item>\r\n            <el-form-item label=\"上传二维码\">\r\n                <el-upload\r\n                    class=\"upload-demo\"\r\n                    action=\"http://47.92.82.13:4000/getMessageB\"\r\n                    :file-list=\"fileList\"\r\n                    name = \"sweixin\"\r\n                    :on-success=\"wxUpload\"\r\n                    >\r\n                    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n                    <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n                    </el-upload>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-button v-if=\"updata\" type=\"primary\" @click=\"UpdateMessageHandle('messageForm')\">修改</el-button>\r\n                <el-button v-else type=\"primary\" @click=\"addMessageHandle('messageForm')\">提交</el-button>\r\n                <el-button @click=\"resetForm('messageForm')\">重置</el-button>\r\n            </el-form-item>\r\n            </el-form>\r\n        </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {getAddress} from '../../api/address'\r\nimport { getLevel } from '../../api/level'\r\nimport { addMessage,messageid, updateMessage } from '../../api/message'\r\n    export default{\r\n        data(){\r\n            return{\r\n                messageForm:{\r\n                    uname:\"\",\r\n                    tel:\"\",\r\n                    levelid:\"\",\r\n                    addressid:\"\",\r\n                    tcoin:\"\",\r\n                    weixin:\"\"\r\n                },\r\n                levelList:[],\r\n                address:[],\r\n                fileList:[],\r\n                updata:false\r\n            }\r\n        },\r\n        created() {\r\n            // console.log(this.$route.query)\r\n            if(this.$route.query.id){\r\n                this.updata = true,\r\n                this.getMessageid()\r\n            }\r\n            // console.log(this.$route.params)//可以输出页面之间传递的参数\r\n            this.initPage();\r\n            // this.getLevelData()\r\n            // this.getAddressData()\r\n        },\r\n        methods: {\r\n            //修改信息\r\n            UpdateMessageHandle(){\r\n                let {uname,addressid,levelid,tel} = this.messageForm;\r\n                updateMessage({\r\n                    id:this.$route.query.id,\r\n                    uname,\r\n                    addressid,\r\n                    levelid,\r\n                    tel\r\n                }).then((res)=>{\r\n                    console.log(res);\r\n                    this.$router.push('/message/list')\r\n                })\r\n            },\r\n            //根据Id获取信息\r\n            getMessageid(){\r\n                messageid({\r\n                    id:this.$route.query.id\r\n                }).then((res)=>{\r\n                    this.messageForm = {\r\n                    jrname:res.data[0].jrname,\r\n                    jrtel:res.data[0].jrtel,\r\n                    levelid:res.data[0].jrlevel,\r\n                    addressid:res.data[0].jraddressesid,\r\n                    tcoin:res.data[0].tcoin,\r\n                    weixin:res.data[0].weixin\r\n                    }\r\n                })\r\n            },\r\n            //添加信息\r\n            addMessageHandle(formName){\r\n                this.$refs[formName].validate((res)=>{\r\n                    if(res){\r\n                        addMessage({...this.messageForm}).then((res)=>{\r\n                            console.log(res)\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n            //获取等级列表\r\n            getLevelData(){\r\n                return new Promise((resolve,reject)=>{\r\n                    getLevel().then((res)=>{\r\n                    this.levelList = res.data\r\n                    resolve();//成功之后让其运行\r\n\r\n})\r\n                    })\r\n            },\r\n            //获取地址\r\n            getAddressData(){\r\n                return new  Promise((resolve,reject)=>{\r\n                     getAddress().then((res)=>{\r\n                    this.address = res.data,\r\n                    resolve();\r\n                })\r\n                })\r\n            },\r\n            //头像上传成功\r\n            headUpload(res,file,files){\r\n                this.messageForm.tcoin = res.headerurl;\r\n            },\r\n             //微信二维码上传成功\r\n           wxUpload(res) {\r\n                this.messageForm.weixin = res.weixinurl;\r\n    },\r\n         //初始化页面\r\n            initPage() {\r\n                console.log(\"开始加载页面\")\r\n                let addressPromise = this.getAddressData()\r\n                let levelPromise = this.getLevelData()\r\n                Promise.all([levelPromise,addressPromise]).then(()=>{\r\n                    console.log(\"结束加载页面\")\r\n                });\r\n            },\r\n        },\r\n       \r\n\r\n    }\r\n</script>\r\n<style>\r\n    .box{\r\n        margin-left: 100px;\r\n        margin-top:100px;\r\n\r\n    }\r\n</style>"],"sourceRoot":"src/views/message"}]}